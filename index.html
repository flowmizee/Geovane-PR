<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Pedido de Delivery</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      background-color: #002a7b; /* Azul #002a7b */
      margin: 20px;
      background-image: radial-gradient(circle at center bottom, rgba(255,255,255,0.3) 20%, rgba(255,255,255,0) 100%); /* Brilho sutil na parte inferior */
      background-size: cover;
    }
    h1 {
      text-align: center;
      color: white; /* Cor do texto do t√≠tulo */
    }
    form {
      max-width: 600px;
      margin: 0 auto;
      padding: 20px; /* Espa√ßamento interno do formul√°rio */
      background-color: #000; /* Preto para o formul√°rio */
      border-radius: 10px;
      box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
      color: white; /* Cor do texto em branco */
    }
    label {
      font-weight: bold;
      margin-top: 10px;
      display: block;
    }
    input, select, textarea {
      width: calc(100% - 20px); /* Ajusta a largura para ter padding */
      padding: 10px;
      margin-top: 5px;
      margin-bottom: 15px;
      border: 1px solid #ccc;
      border-radius: 5px;
      background-color: #333; /* Cinza um pouco mais claro para contraste */
      color: white;
    }
    .item-row {
      display: flex;
      gap: 10px;
      padding: 10px; /* Espa√ßamento interno da linha */
    }
    .item-row select, .item-row input {
      width: 32%;
      background-color: #000; /* Preto */
    }
    .add-item {
      text-align: center;
      margin-bottom: 15px;
    }
    .taxa-fixa {
      background-color: #333; /* Mesma cor do formul√°rio */
      border: none;
      color: white;
      font-weight: bold;
    }
    button {
      padding: 8px 15px; /* Diminui o espa√ßamento interno */
      background-color: #002a7b; /* Azul do fundo da p√°gina */
      color: white;
      font-size: 14px; /* Diminui o tamanho da fonte */
      border: none;
      border-radius: 5px;
      cursor: pointer;
    }
    button:hover {
      background-color: #001e56; /* Azul mais escuro */
      transition: background-color 0.3s ease; /* Adiciona transi√ß√£o suave */
    }
    /* Adiciona o estilo para a √°rea de observa√ß√µes */
    textarea {
      background-color: #000; /* Preto */
    }
    /* Estilo espec√≠fico para o bot√£o "Remover" */
    .item-row button {
      width: 32%; /* Mesma largura dos outros elementos */
      padding: 8px 15px; /* Mesma altura e padding */
      font-size: 14px; /* Mesma fonte */
    }
    /* Estilo para o bot√£o "Adicionar Item" */
    .add-item button,
    form button[type="submit"] { /* Estilos para o "Enviar Pedido" */
      width: 100%; /* Ocupa toda a largura da div */
      padding: 12px 20px; /* Aumenta o padding */
      font-size: 16px; /* Aumenta o tamanho da fonte */
    }
    .status-container {
      /* Estilos para o container */
      background-color: #000; /* Preto para o container */
      color: #fff;
      padding: 25px 50px; /* Aumenta o padding */
      border-radius: 8px; /* Arredonda as bordas */
      text-align: center;
      margin: 30px auto; /* Adiciona margem superior e centraliza */
      font-size: 18px; /* Aumenta o tamanho da fonte */
      display: flex; /* Usa flexbox para o alinhamento */
      align-items: center; /* Alinha os itens verticalmente no centro */
      justify-content: center; /* Alinha os itens horizontalmente no centro */
      max-width: 600px; /* Limita a largura do container */
    }
    /* Estilos para as mensagens "Estamos Fechado" e "Estamos Aberto" */
    .status-container.fechado {
      background-color: #000; /* Preto para "Estamos Fechado" */
      color: #fff;  /* Branco para o texto */
      font-size: 24px; /* Aumenta o tamanho da fonte */
    }
    .status-container.aberto {
      background-color: #000; /* Preto para "Estamos Aberto" */
      color: #fff;  /* Branco para o texto */
      font-size: 24px; /* Aumenta o tamanho da fonte */
    }
  </style>
  <script>
    // Lista de produtos, pre√ßos e emojis
    const produtos = {
      "Pizza Margherita": { preco: 35, emoji: "üçï" },
      "Pepperoni Tradicional": { preco: 38, emoji: "üçï" },
      "Pizza Mediterr√¢nea": { preco: 45, emoji: "üçï" },
      "Pizza Quatro Queijos": { preco: 50, emoji: "üçï" },
      "Hamb√∫rguer Duplo": { preco: 25, emoji: "üçî" },
      "Hamb√∫rguer com Pimenta": { preco: 26, emoji: "üçî" },
      "Hamb√∫rguer Completo": { preco: 22, emoji: "üçî" },
      "Hamb√∫rguer com Salame": { preco: 24, emoji: "üçî" },
      "Refrigerante Soda": { preco: 10, emoji: "ü•§" },
      "Refrigerante Guaran√°": { preco: 4, emoji: "ü•§" },
      "Coca Cola": { preco: 5, emoji: "ü•§" },
      "Guaran√° Antarctica Zero": { preco: 4, emoji: "ü•§" },
      "Batata Frita com Queijo": { preco: 15, emoji: "üçü" },
      "Batata Frita Cl√°ssica": { preco: 10, emoji: "üçü" },
      "Batata Frita com Molho": { preco: 14, emoji: "üçü" }
    };
    // Fun√ß√£o para adicionar um novo item no pedido
    function adicionarItem() {
      const itensContainer = document.getElementById("itens-container");
      const novoItem = document.createElement("div");
      novoItem.className = "item-row";
      novoItem.innerHTML = `
        <select onchange="atualizarPrecoTotal(this)">
          <option value="">Selecione o produto</option>
          ${Object.keys(produtos).map(produto => `<option value="${produto}">${produtos[produto].emoji} ${produto} - R$ ${produtos[produto].preco.toFixed(2)}</option>`).join('')}
        </select>
        <select onchange="atualizarPrecoTotal(this)">
          <option value="1">Quantidade: 1</option>
          <option value="2">Quantidade: 2</option>
          <option value="3">Quantidade: 3</option>
          <option value="4">Quantidade: 4</option>
          <option value="5">Quantidade: 5</option>
          <option value="6">Quantidade: 6</option>
          <option value="7">Quantidade: 7</option>
          <option value="8">Quantidade: 8</option>
          <option value="9">Quantidade: 9</option>
          <option value="10">Quantidade: 10</option>
        </select>
        <input type="number" placeholder="Pre√ßo Total (R$)" step="0.01" readonly>
        <button onclick="removerItem(this)">Remover</button>
      `;
      itensContainer.appendChild(novoItem);
    }
    // Fun√ß√£o para atualizar o pre√ßo total do item
    function atualizarPrecoTotal(selectElement) {
      const itemRow = selectElement.parentElement;
      const produto = itemRow.querySelector('select:nth-child(1)').value;
      const quantidade = itemRow.querySelector('select:nth-child(2)').value;
      if (produto && quantidade) {
        const precoTotal = (produtos[produto].preco * quantidade).toFixed(2);
        itemRow.querySelector('input').value = precoTotal;
        calcularTotal();
      } else {
        itemRow.querySelector('input').value = '';
        calcularTotal();
      }
    }
    // Fun√ß√£o para calcular o total do pedido
    function calcularTotal() {
      const itensContainer = document.getElementById("itens-container").children;
      let total = 0;
      // Verifica se h√° itens no pedido
      if (itensContainer.length > 0) {
        for (let i = 0; i < itensContainer.length; i++) {
          const item = itensContainer[i].children;
          const precoTotal = parseFloat(item[2].value) || 0;
          total += precoTotal;
        }
        const taxaEntrega = parseFloat(document.getElementById("taxa").value) || 0;
        const totalPedido = total + taxaEntrega;
        document.getElementById("total").value = totalPedido.toFixed(2);
      } else {
        // Se n√£o houver itens, zera o total
        document.getElementById("total").value = '0.00';
      }
    }
    // Fun√ß√£o para enviar o pedido via WhatsApp
    function enviarPedido() {
      const nome = document.getElementById("nome").value;
      const endereco = document.getElementById("endereco").value;
      const taxa = document.getElementById("taxa").value;
      const pagamento = document.getElementById("pagamento").value;
      const total = document.getElementById("total").value;
      const observacoes = document.getElementById("observacoes").value;
      const itensContainer = document.getElementById("itens-container").children;
      let itens = "";
      let temProdutoVazio = false;

      for (let i = 0; i < itensContainer.length; i++) {
        const item = itensContainer[i].children;
        const produtoSelecionado = item[0].value;
        if (produtoSelecionado === "") {
          temProdutoVazio = true;
          break; // Sai do loop assim que encontra um item com produto vazio
        }
        const quantidade = item[1].value;
        const precoTotal = item[2].value;
        itens += `${produtos[produtoSelecionado].emoji} ${produtoSelecionado} x${quantidade} - R$ ${precoTotal}%0A`;
      }

      if (temProdutoVazio) {
        alert("Por favor, selecione um produto ou remova os itens vazios do seu pedido.");
        return; // Impede o envio do pedido
      }

      let mensagem = `*PEDIDO*%0A%0Aüìã *Dados do Cliente:*%0A- Nome: ${nome}%0A- Endere√ßo: ${endereco}%0A%0Aüì¶ *Itens do Pedido:*%0A${itens}%0A%0Aüíµ *Forma de Pagamento:* `;
      if (pagamento === 'PIX') {
        mensagem += `PIX - Chave: renimarfilho000@gmail.com %0A`; // Substitua 'chavepix' pela chave PIX do estabelecimento
      } else if (pagamento === 'Cart√£o de Cr√©dito' || pagamento === 'Cart√£o de D√©bito') {
        mensagem += `Cart√£o - Link para Pagamento: link.mercadopago.com.br/flowmize %0A`; // Substitua 'linkpagamento' pelo link do cart√£o de cr√©dito/d√©bito
      } else if (pagamento === 'Dinheiro') {
        mensagem += `Dinheiro %0A`; // N√£o precisa de altera√ß√£o
      }
      mensagem += `üöö *Taxa de Entrega:* R$ ${taxa}%0Aüî¥ *Total do Pedido:* R$ ${total}%0A%0A*Observa√ß√µes:* ${observacoes}`;
      const telefone = "98981729088"; //Substitua pelo n√∫mero correto
      if (total > 0) { // Verifica se o total √© maior que zero
        const url = `https://wa.me/55${telefone}?text=${mensagem}`;
        window.open(url, "_blank");
      } else {
        // Mostra um alerta caso o total seja zero
        alert("Por favor, adicione pelo menos um item ao seu pedido.");
      }
    }
    // Fun√ß√£o para remover um item do carrinho
    function removerItem(button) {
      const itemRow = button.parentElement;
      itemRow.remove(); // Remove a linha do item do carrinho
      calcularTotal(); // Recalcula o total do pedido
    }
    // Fun√ß√£o para atualizar a mensagem de status (aberto/fechado)
    function atualizarStatus() {
      const statusContainer = document.getElementById("status-container");
      const now = new Date();
      const saoPauloTimeZone = Intl.DateTimeFormat().resolvedOptions().timeZone;
      const saoPauloTime = new Date(now.toLocaleString('pt-BR', { timeZone: saoPauloTimeZone }));
      const startTime = new Date(saoPauloTime.getFullYear(), saoPauloTime.getMonth(), saoPauloTime.getDate(), 18, 0, 0);
      const endTime = new Date(saoPauloTime.getFullYear(), saoPauloTime.getMonth(), saoPauloTime.getDate(), 22, 0, 0);
      if (saoPauloTime >= startTime && saoPauloTime <= endTime) {
        statusContainer.innerHTML = "Estamos Abertos ü•≥"; // Adiciona o emoji "ü•≥"
        statusContainer.classList.add("aberto"); // Adiciona a classe "aberto"
        statusContainer.classList.remove("fechado"); // Remove a classe "fechado"
      } else {
        statusContainer.innerHTML = "Estamos Fechados üòï"; // Adiciona o emoji "üòï"
        statusContainer.classList.add("fechado"); // Adiciona a classe "fechado"
        statusContainer.classList.remove("aberto"); // Remove a classe "aberto"
      }
    }
    // Chama a fun√ß√£o atualizarStatus() a cada segundo
    setInterval(atualizarStatus, 1000);
  </script>
</head>
<body>
  <div class="status-container" id="status-container">
    <!-- Aqui vai aparecer a mensagem "Estamos Abertos" ou "Estamos Fechados" -->
  </div>
  <form onsubmit="event.preventDefault(); enviarPedido();">
    <h1>PEDIDO üçïüçîü•§üçü</h1>
    <label for="nome">Nome do Cliente:</label>
    <input type="text" id="nome" name="nome" placeholder="Digite seu nome" required>
    <label for="endereco">Endere√ßo de Entrega:</label>
    <input type="text" id="endereco" name="endereco" placeholder="Digite seu endere√ßo" required>
    <label>Itens do Pedido:</label>
    <div id="itens-container" class="itens-container">
      <!-- REMOVIDO: <div class="item-row"> ... </div> -->
    </div>
    <div class="add-item">
      <button type="button" onclick="adicionarItem()">Adicionar Item</button>
    </div>
    <label for="taxa">Taxa de Entrega (R$):</label>
    <input type="number" id="taxa" name="taxa" value="4.00" class="taxa-fixa" readonly>
    <label for="pagamento">Forma de Pagamento:</label>
    <select id="pagamento" name="pagamento" required>
      <option value="Dinheiro">Dinheiro</option>
      <option value="Cart√£o de Cr√©dito">Cart√£o de Cr√©dito</option>
      <option value="Cart√£o de D√©bito">Cart√£o de D√©bito</option>
      <option value="PIX">PIX</option>
    </select>
    <label for="observacoes">Observa√ß√µes:</label>
    <textarea id="observacoes" name="observacoes" placeholder="Digite suas observa√ß√µes" rows="4"></textarea>
    <label for="total">Total:</label>
    <input type="number" id="total" name="total" placeholder="Total do Pedido" readonly>
    <button type="submit">Enviar Pedido</button>
  </form>
</body>
        </html>
        
